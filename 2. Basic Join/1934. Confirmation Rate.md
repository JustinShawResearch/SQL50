**Problem Title:** [Confirmation Rate](https://leetcode.com/problems/confirmation-rate/?envType=study-plan-v2&envId=top-sql-50)

**Problem Number:** 1934

**Difficulty:** Medium

**Key Concepts:** `LEFT JOIN` & `IF`

## Explanation:
CONCEPT: `LEFT JOIN`

Why do we `LEFT JOIN` here? We want ALL `user_id`s from the `Signups` table but also some rows from the `Confirmations` table. 

Note:
By default, SQL uses `INNER JOIN`, which returns only rows with matches in both tables. If `INNER JOIN` were used here, users without confirmation requests (e.g., user_id = 6 in the example) **would be excluded from results**. This violates the problem's requirement to explicitly show confirmation_rate = 0 for such users.

As a **visual diagram** it looks like this:
![leftjoin](https://github.com/JustinShawResearch/SQL50/blob/main/images/leftjoin.png?raw=true)

CONCEPT: `IF`
The primary reason for using this `IF` function is to convert the categorical data in the `c.action` column into numerical data (0s and 1s) that can be easily used by the `AVG()`function to calculate a rate or proportion.
- By using IF(c.action="confirmed", 1, 0), we are effectively creating a temporary column where each row associated with a "confirmed" action has a 1, and every other confirmation attempt has a 0. When we then take the average of this temporary column using AVG(), we get the ratio of confirmed actions to the total number of confirmation attempts for that user.

very good [explaination](https://leetcode.com/problems/confirmation-rate/solutions/6543578/step-by-step-breakdown-visualized-sql-guide-code-diagrams-97-87) here


## SQL Query:
```sql
SELECT s.user_id, ROUND(AVG(IF(c.action="confirmed", 1, 0)), 2) as confirmation_rate
FROM Signups s
LEFT JOIN Confirmations c
ON s.user_id = c.user_id
GROUP BY s.user_id
```